set nocompatible
filetype off

set runtimepath+=~/.vim/bundle/Vundle.vim
call vundle#begin()

" Plugins
Plugin 'VundleVim/Vundle.vim'
Plugin 'ctrlpvim/ctrlp.vim'
Plugin 'easymotion/vim-easymotion'
Plugin 'honza/vim-snippets'
Plugin 'majutsushi/tagbar'
Plugin 'scrooloose/nerdcommenter'
Plugin 'scrooloose/nerdtree'
Plugin 'tpope/vim-fugitive'
Plugin 'tpope/vim-pathogen'
Plugin 'tpope/vim-surround'
Plugin 'vim-airline/vim-airline'

" Themes
Plugin 'sickill/vim-monokai'
Plugin 'w0ng/vim-hybrid'

call vundle#end()
filetype plugin indent on
syntax on

" Enable theme
syntax enable
set background=dark
colorscheme hybrid

" Use relative numbering instead of absolute
set relativenumber

" Allow buffers to be hidden (unsaved) when closing a window
set hidden

" Change <Leader> to space
let mapleader=" "

" Change tabs to 4 spaces
set tabstop=8 softtabstop=0 expandtab shiftwidth=4 smarttab

" Always have 5 lines above or below the cursor when scrolling
set scrolloff=5

" When minimizing a window make it as small as possible
set winminheight=0

" Always show the status line
set laststatus=2

" Enable incremental searching
set incsearch

" Enable search highlighting
set hlsearch

" Dont use case-sensitive search (use smartcase when explicit case-sensitive is needed)
set ignorecase
set smartcase

" Fix my frequently wrong typed Wq (etc.) when quiting vim
command WQ wq
command Wq wq
command W w
command Q q

" Type qq when you want to quit all open windows
cmap qq qa

" Add shortcut for saving readonly files
command WW :execute ':silent w !sudo tee % > /dev/null' | :edit!

" Map F5 to list and select buffers
map <F5> :buffers<CR>:buffer<Space>

" Disable Arrow keys in normal, visual and select and operator pending mode (hjkl training)
map <up> <nop>
map <down> <nop>
map <left> <nop>
map <right> <nop>

" Disable Arrow keys in insert mode (hjkl training)
imap <up> <nop>
imap <down> <nop>
imap <left> <nop>
imap <right> <nop>

" Enable arrow window navigation in normal mode
nmap <up> <C-W>k
nmap <down> <C-W>j
nmap <left> <C-W>h
nmap <right> <C-W>l

" Enable (up/down) arrow window navigation with ALT key and make the current window
" fullscreen, minimalize the others
nmap <A-up> <C-W>k <C-W>_
nmap <A-down> <C-W>j <C-W>_

" Shorcut for making all windows equal sized
nmap <A-=> <C-W>=

" Create shortcut for Esc in insert mode (`^ makes sure the cursor stays at
" the same position as before the Esc)
imap jk <Esc>
imap kj <Esc>
inoremap <Esc> <Esc>`^

" Shortcut for easy navigating to begin/end of line
map aa ^
map ;; $

" NERDTree plugin
map <Leader>e :NERDTree<CR>
let NERDTreeShowHidden=1

" CtrlP plugin
map <Leader>p :CtrlP<CR>
let g:ctrlp_show_hidden = 1

" incsearch.vim plugin
map /  <Plug>(incsearch-forward)
map ?  <Plug>(incsearch-backward)
map g/ <Plug>(incsearch-stay)

" :h g:incsearch#auto_nohlsearch
" set hlsearch (already set above)
let g:incsearch#auto_nohlsearch = 1
map n  <Plug>(incsearch-nohl-n)
map N  <Plug>(incsearch-nohl-N)
map *  <Plug>(incsearch-nohl-*)
map #  <Plug>(incsearch-nohl-#)
map g* <Plug>(incsearch-nohl-g*)
map g# <Plug>(incsearch-nohl-g#)
